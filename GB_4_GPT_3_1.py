'''
Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ accumulator(), ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:
ÐÐ°ÐºÐ°Ð¿Ð»Ð¸Ð²Ð°ÐµÑ‚ ÑÑƒÐ¼Ð¼Ñƒ Ñ‡Ð¸ÑÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÐµÐ¼Ñƒ Ð¿Ð¾ÑÑ‹Ð»Ð°ÑŽÑ‚ Ñ‡ÐµÑ€ÐµÐ· send()
Ð•ÑÐ»Ð¸ ÐµÐ¼Ñƒ Ð½Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ (next()), Ð¾Ð½ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÑƒÐ¼Ð¼Ñ‹
ÐÐ° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑˆÐ°Ð³Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ (Ñ‡ÐµÑ€ÐµÐ· print) Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ ÑÑƒÐ¼Ð¼Ñ‹
Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒÑÑ, ÐºÐ¾Ð³Ð´Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ñ‹Ð·Ð¾Ð²ÐµÑ‚ close()
gen = accumulator()
next(gen)       # ÑÑ‚Ð°Ñ€Ñ‚, ÑÑƒÐ¼Ð¼Ð° = 0
gen.send(5)     # ÑÑƒÐ¼Ð¼Ð° = 5
gen.send(10)    # ÑÑƒÐ¼Ð¼Ð° = 15
gen.send(-3)    # ÑÑƒÐ¼Ð¼Ð° = 12
gen.close()     # Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ

Ð’Ñ‹Ð²Ð¾Ð´ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€):

Current sum: 0
Current sum: 5
Current sum: 15
Current sum: 12

ðŸ’¡ ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸
Ð’ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ current = 0
Ð”Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· send() Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚:
value = yield current
value Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ None, ÐµÑÐ»Ð¸ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ next().
close() ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÐµÑ‚ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€.

'''


def accumulator():
    accum = 0
    print(f'\n*****************\nAccumulator -> {accum}\n*****************')
    while True:
        x = yield accum
        if x != None:
            accum += x
            print(f'*****************\nReceived    -> {x}')
            print(f'Accumulator -> {accum}\n*****************')



if __name__ == '__main__':

    gen = accumulator()
    next(gen)
    '''gen.send(3)
    gen.send(5)
    gen.send(2)'''

    #gen.close()

